import{r as F,g as A,l as D,z as B,d as S,h as E,m as z,c as o,a as e,t as i,w as b,u as r,e as N,n as P,s as V,F as c,q as u,k as j,o as l,x as g}from"./index-CsiwcZo0.js";import{u as M,a as L}from"./usePokedex-CmPB96jI.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U={key:0,class:"text-center py-5"},$={key:1},q={class:"container card p-4 shadow-sm my-4 custom-main"},H={key:0,class:"d-flex justify-content-between align-items-start mb-3"},I={class:"text-capitalize mb-0"},Q={class:"d-flex align-items-center"},T={class:"text-muted"},Y=["aria-pressed","title"],G={key:1,class:"text-center text-muted mb-3"},J={class:"text-center mb-4"},O=["src","alt"],W={class:"row mb-4 mt-4"},X={class:"col-md-3 text-center mb-3 mb-md-0"},Z={class:"badge custom-badge px-3 py-2"},K={class:"col-md-3 text-center mb-3 mb-md-0"},ee={class:"badge custom-badge px-3 py-2"},se={class:"col-md-3 text-center"},te={class:"d-flex flex-wrap justify-content-center"},ae={class:"col-md-3 mb-4 text-center"},oe={class:"d-flex justify-content-between mb-1 text-capitalize"},le={class:"progress stat-bar"},ne=["aria-valuenow"],ie={key:1,class:"text-muted"},re={__name:"PokemonDetailsView",setup(de){const{isFav:d,toggleFavLocal:m}=M(),v=B(),f=j(),{details:p,ensureDetails:h}=L(),s=F(null),x={fire:"#EE8130",water:"#6390F0",grass:"#7AC74C",electric:"#F7D02C",ice:"#96D9D6",fighting:"#C22E28",poison:"#A33EA1",ground:"#E2BF65",flying:"#A98FF3",psychic:"#F95587",bug:"#A6B91A",rock:"#B6A136",ghost:"#735797",dragon:"#6F35FC",dark:"#705746",steel:"#B7B7CE",fairy:"#D685AD",normal:"#A8A77A"},k=["hp","attack","defense","speed","special-attack","special-defense"],y=A(()=>{const n=s.value?.stats;return n?k.filter(t=>n[t]!=null):[]}),_=async n=>{let t=p.get(Number(n));t||(t=loadDetailFromStorage(Number(n)),t?p.set(Number(n),t):t=await h(Number(n))),s.value=t};D(async()=>{await _(v.params.id)}),S(()=>{console.log(E.value)}),z(()=>v.params.id,n=>_(n));const w=()=>{f.push({name:"home"})};return(n,t)=>{const C=V("font-awesome-icon");return l(),o("div",null,[s.value?(l(),o("div",$,[e("div",{class:"mx-5 mt-2"},[e("button",{class:"btn custom-btn__link",onClick:w}," < Volver a la Pokédex ")]),e("div",q,[s.value&&s.value.id?(l(),o("div",H,[e("h2",I,i(s.value.name),1),e("div",Q,[e("h5",T," #"+i(String(s.value.id).padStart(3,"0")),1),e("button",{class:"btn fav-btn ms-3 mb-1","aria-pressed":r(d)(s.value.id)?"true":"false",onClick:t[1]||(t[1]=b(a=>r(m)(s.value.id),["stop"])),title:r(d)(s.value.id)?"Quitar de favoritos":"Agregar a favoritos"},[N(C,{icon:[r(d)(s.value.id)?"fas":"far","heart"],class:P(r(d)(s.value.id)?"text-danger":"text-dark"),onClick:t[0]||(t[0]=b(a=>r(m)(s.value.id),["stop"]))},null,8,["icon","class"])],8,Y)])])):(l(),o("div",G," Datos no disponibles ")),e("div",J,[e("img",{src:s.value.imageUrl,alt:s.value.name,class:"img-fluid pokemon-image",style:{"max-height":"250px","object-fit":"contain"}},null,8,O)]),e("div",W,[e("div",X,[t[2]||(t[2]=e("h6",null,"Altura",-1)),e("span",Z,i(s.value.heightM)+" m",1)]),e("div",K,[t[3]||(t[3]=e("h6",null,"Peso",-1)),e("span",ee,i(s.value.weightKg)+" kg",1)]),e("div",se,[t[4]||(t[4]=e("h6",null,"Habilidades",-1)),e("div",te,[(l(!0),o(c,null,u(s.value.abilities,a=>(l(),o("span",{key:a,class:"badge ability-badge me-2 mb-2 text-capitalize"},i(a.replace("-"," ")),1))),128))])]),e("div",ae,[t[5]||(t[5]=e("h6",null,"Tipos",-1)),e("div",null,[(l(!0),o(c,null,u(s.value.types,a=>(l(),o("span",{key:a,class:"badge type-badge me-2 mb-2 text-capitalize",style:g({backgroundColor:x[a]||"#6c757d"})},i(a),5))),128))])])]),e("div",null,[t[6]||(t[6]=e("h6",{class:"mb-3"},"Estadísticas",-1)),s.value&&s.value.stats?(l(!0),o(c,{key:0},u(y.value,a=>(l(),o("div",{key:a,class:"mb-3"},[e("div",oe,[e("span",null,i(a.replace("-"," ")),1),e("span",null,i(s.value.stats[a]),1)]),e("div",le,[e("div",{class:"progress-bar custom-badge",role:"progressbar",style:g({width:Math.min(s.value.stats[a],100)+"%"}),"aria-valuenow":s.value.stats[a],"aria-valuemin":"0","aria-valuemax":"100"},null,12,ne)])]))),128)):(l(),o("div",ie,"Sin estadísticas disponibles."))])])])):(l(),o("div",U,"Cargando detalles…"))])}}},ve=R(re,[["__scopeId","data-v-742e1213"]]);export{ve as default};
